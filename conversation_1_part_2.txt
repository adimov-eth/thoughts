что можно легко вычислить из стейта, то ты просто показываешь вот транза, вот слот в памяти, который детерминированным образом вычислен, вот, пожалуйста, выведи мне деньги, вот у меня там это секвенсор, мне отправляют эту транзу, пожалуйста, обработай ее. Если у тебя этого нет, то ты идешь и говоришь, вот, чуваки, вот последний блок, который я видел, вот цепочка доказательств без транзакций, дальше у тебя rollup это валидирует, говорит, окей, да, этот блок валидный, валидный, валидный, потому что они уже валидны заранее, там есть банальная проверка, как это работает, ты выступаешь за секвенсор, ну, а ты отправляешь только хэши, тебе не надо особо ничего, ну, ты глобальное состояние блока отправляешь, тебе не нужно в детали вдаваться, у тебя просто тут стандартная цепочка минимальная, отправляется и все. После этого ты повторяешь шаг один, тебе для выполнения этой операции, тебе нужно вот метаданные блока каждого, которые находятся в разнице между последним отправленным в чейн, и, собственно, последним блоком, который ты видел. И состояние памяти вообще форм... А based rollup мы говорим про оптимистичный или валидный? Нет, именно based. Ну, просто там же важная... Глент, тогда мне надо прочитать, потому что я знаю только два вида rollups, оптимистичный и валидный. Да, это новые rollups, которые появились в прошлом году, которые начали активно распространяться. Coinbase, по-моему, как раз-таки на них работает, вот, собственно, базовый чейн, но они не ограничиваются. А почему там уже Vitalik shamed Coinbase, что они какой-то там не стейджят что-то там, что их метро безопаснее, чем всех остальных? Может быть, я путаю, они не based, но тем не менее, такие сетки уже есть. Я просто общаюсь с ребятами из одной из таких сеток, начал даваться стандартность, как работает. Ну, как минимум, ни одна из майнстримовых rollups по этому принципу не работает, значит, я это уже изучил. Хорошо, и посмотри, как работает RiseChain, у них сейчас тестнет только развернут, но они делают based rollups как раз. Просто невозможно, чтобы меняли существующую сетку, которая работает вот иначе. Смотри, вот, конкретно, вот мои ребята из Rise, с которыми я дружу, у них шарды по 10 миллисекунд, блоки по 100 миллисекунд, у них стоимость транзакции, типа, какие-то сотые доли копеек, никому ничего блокировать не надо, полный EWM у всех есть, и based rollups, которые тебе позволяют применить вот этот стейк на гигабайт и, в случае чего, вывести деньги, да, окей, ты подождешь 2 недели на все эти случаи, но ты выведешь их, все. Нигде ничего блокировать не надо, не надо добавлять новых существ, ты пир-то-пир можешь это все отправлять. Хорошо, а есть bottleneck по масштабированию? Ну, в принципе, да, по-моему, у ребят там, типа, 100 тысяч транзакций в секунду, есть bottleneck или миллион транзакций в секунду, я не помню. Миллион транзакций, если даже каждая транзакция, допустим, 20-30 байт, то это 30 мегабайт в секунду они должны постить в блокспейс. Мне кажется, там столько нету. А с чего ты взял, что они должны постить это в блокспейс? Тебе в память? Это в стейт обновление? И, да, я так и говорил, что у тебя обновление в блоке должно произойти, и у тебя должно произойти, собственно, обновление в метрах состояния блока. То, что исполняется как транзакция, тебе можно догадать, допустим, через ZK или просто на консенсусе каком-то работать, у них, по-моему, механизм, что ты можешь профануть, что они сделали хрень, например, и на этом заработать. Можно тогда, потому что я пока понял даже, наверное, процентов 40 от этого, я с удовольствием это все изучу и уже конкретно дам тезис, как я это вижу. Потому что я сейчас просто не смогу ничего сформулировать. Именно вот про бейстра лапы отдельного, значит, что это покроем. Я потому что у меня есть тезисы про ZKSYN, про классические оптимисты, которые постят батчи, и у них там и фундаментальный баттлнек, и проблема data availability. А вот тут я просто бабу, я не могу прям что-то ответить, это так. И все равно тейк остается с баттлнеком, остается, потому что 100 тысяч в секунду это не цель. У каналов нет, в принципе, баттлнека никакого вообще. У Visa какой-то рокбуд актуальный сейчас? Я понимаю, что типа нам много не надо, якобы, сейчас. Но если представим мир и агентов, где множество людей более экономически активных, где там, я не знаю, стримится что-то за секунду, то есть лучше иметь больше в запасе, как знаешь, аргумент 60-40 килобайт, 640 килобайт достаточно для всего. Лучше сделать изначальную систему, которая бесконечно масштабируется, просто по своей архитектуре, чем на 100 тысяч в секунду и потом думать, что дальше делать с этим. Так, у меня уже дальше по делам надо идти, так что я, наверное, на сегодня закончу дискуссию. Да, я считаю, мы очень фрутфули. Блядь, чуваки, наконец. Я, я, я, я, блядь, очень давно старался сделать так, чтобы вы поговорили, потому что вы два умнейших человека и ну, типа, я рад, что вас наконец познакомил. Ладно, все тогда. Пока. Спасибо. Вау. Извини, ушло чуть-чуть не туда, куда мы изначально хотели поговорить, но я надеюсь, пища для ума ты получил немножко. Ну, отдельно просто для бейста я, типа, вкратце читал, но я не думал, что у них какая-то отдельная штука. Я 40% понял из того, что там что-то селекционное, но я уверен, что там принципиально они работают. Да, да, я тоже так предполагаю. Я согласен только с Севиным тезисом насчет того, что плюс один стандарт — это тяжко. Типа, что да, оно имеет некоторые flows, ну, типа, недостатки by design, но оно разрослось и уже работает, и вот конкретно с этим довольно сложно там спорить и сражаться. Но при этом в моей голове это никак не конфликтует с тем, что твой дизайн красивее. То есть Сева такой, а зачем оно надо, если это работает? Я бы даже делал аргумент, что зачем нам раллапы, если банковская сеть уже работает? Надо на это смотреть, как на банковскую сеть 2.0. Типа, это как раз возврат к истокам. Это не запретение чего-то нового. Согласен, согласен. Потому что переводить... А давай, ну, типа, чуть-чуть трепанем с точки зрения юзер-экспириенса некоторой компании, которая хочет пользоваться финансами нового поколения, и она выбирает между, ну, собственно, жить на там Бэйсе, заплатить зарплаты на Бэйсе и так далее, или в компьютерной игре принимать микротрансы на Бэйсе, условно, вот, или XLN. И вот, как мы продаем XLN так, что они вот... Ну, понятно, что это потребует много работы, чтобы он вообще, типа, был имплементирован, но как ты это видишь, когда оно уже работает? Почему мы продаем XLN? Потому что это бесплатные переводы, можно вообще их делать тупо бесплатные, и моментальные, бесконечно масштабируются, то есть... Да, но для того, чтобы они работали... Модель безопасности... Я согласен. ...более четко, чем масштаб. Проблема в нетворкинг-эффекте. Как решить нетворкинг-эффект? Типа, курица-яйцо. Как, ну, то есть, я вижу охуеннейший кейс, это микротрансы в геймдеве, например, это может быть хорошим рынком. В целом, еще может быть в стримах и донатах, но вот, типа, надо как-то упростить, будет максимально анбординг, чтобы человек, который хочет, ну, типа, зайти на XLN и заплатить свои копеечки, он, ну, типа, это делал, ну, максимально легко, желательно и из кэша, чтобы была возможность. Я понимаю, я понимаю, что, типа, анбординг и юзкейсы — это сложная часть. Больно, да. Но ты смотришь на это сразу со стороны обывателя. Ну, надо рассматривать все части рынка, так сказать. Есть обменки, то есть обменки могут между... Да, я в обменах наиболее шарю и вижу применение в том, что вот в обменках, если суметь продать это всем меня, вон, петупишникам, это охуительно, потому что это денежные операции с гарантом, с гарантией, что, типа... Можно вообще просто сделать фокус на просто убийцу сексов. То есть зачем мне пользоваться бинансом и коинбейсом, торговать говно-токены, один на говно-токены, один на гарантии, когда я могу делать так же бесплатно и быстро в системе XLN? Соответственно, надо просто нахуярить ликвидности изначальной и пару-пару и, типа, приходится быть. Вот, смотри, я давным-давно тебе накидывал, ты это отбивал, потому что это не попадает в фокус, и в этом был прав, но вот с обменками, смотри, я наблюдаю, как, ну, типа, около Digital Nomad кучу людей, причем даже и серьезных людей, вот я тебе могу переслать запрос от моего ну, типа, препод, препод смехмата, он, этот, как это называется, короче, в машинленинг, вот по машинленингу спец, так, Роман Борисович, он для меня все равно Роман Борисович, мы с ним даже пересекались по работе, он уже Рома должен быть, но из-за того, что универ, Роман Борисович. Вот запрос. Сейчас. Так. Так, Боря, привет, у меня есть к тебе, я переслать тебе тоже хочу. Где переслать? Да ебана. Вот. На телефоне удобнее переслать, чем на компьютере. Вот. Трансграничные платежи. Ну, второй, второй, это его сразу забрили, потому что санкции в Малайзии никто не даст ему открыть счет, ну, то есть, счет можно открыть, а получать из России нельзя будет. Вот. И... Он говорит, мой испанский банк вроде что-то с крипто сделал, но я точно не знаю, что. Так, так, так. Вот, и, ну, типа, с рублями траблак текущая, что, ну, типа, непонятно, как надежно, спокойно и без грязи рубли кидать в, типа, в интернет и выдергивать где-то в другом месте. Ну, то есть, этот кейс, он прям, ну, типа, у людей болит, есть куча менял, которые как-то подшабашивают, и если это систематизировать легко и, ну, типа, ну, короче, вот трансграничные платежи, это одна из интересных точек входа. Что думаешь? Ну, так, крипта любая, она, это сразу трансграничные платежи, потому что там нету KYC, нету ничего. Понятно, сложно, сложно, смотри, сложно фиат превратить в крипту, потом легко перевести, а потом, да, не так сложно. Это способ передвижения value, который используется, это... все надо пробовать, все по чуть-чуть, и где попрет, больше вкладывать. У меня observational bias, да, я, типа, я видел гейминг, понятно, но там нужно будет решать проблему того, как пользователям легко, ну, типа, их денежки, наконец, превратить в... То есть, смотри, для того, чтобы эта система работала, нужно фиат пересаживать на нее, правильно? Все вместе, не обязательно только фиат. Не, крипта по дефолту, крипта по дефолту, для того, чтобы люди могли эти пользоваться, как банковской системой, для того, чтобы тайцы могли, тут есть интересный кейс, это вторая волна после крипты, тут вообще цель соходить со стороны банка в больших правительствах, конечно, просто им объяснять, смотрите, это охуенно, это, типа, как у вас было, только лучше, по вот таким топорам. Там, ну, вот, на моем опыте введения таких, на моем опыте наблюдения за введениями подобных инноваций, ебаные деды такие, да, да, ну, нахуй, нам надо, если все работает. Я тебя понимаю, конечно, но дедов в нерестковых странах сто восемьдесят. Да. Деды в одной стране, в другой, кажется. Согласен, согласен, согласен, это... В Китае или в Сингапуре попрет. Ну, и в конце концов, я говорю про попытку. Да, да, я согласен. Можно не пытаться и нихуя не делать, конечно, да, но можно сделать охуенную архитектуру, а вдруг получится. Вот так вот скажи, что думаешь, connect с фиатом? Какой ты видишь? Что ты думаешь, что я могу сделать? Типа, это не технический вопрос совершенно, фиат — это просто бак, который печатают деды. Понятно, как... Как людям, которые не умеют в крипту, потому что XLN, он реально интуитивно лучше, чем вся ебаная крипта для обывателя. Он может стать, типа, масс-адопшеном, просто потому что он, блядь, лучше задизайнен именно под простой кейс скинуть другу денег. Понимаешь? Да, то есть... Но для этого они должны... Браузер для банков. Да. Браузер для работы с банками. Для этого они должны завести бабки в эту систему. Да. Как думаешь? У тебя кэш, ты кому-то отдаешь, например, мне, и я тебе взамен даю токены доллара. Да. Кому угодно. Как реализуется сделка... Как реализуется сделка безопасно? Никак. Ну, просто смотри... Потому что переводы в старой системе, они не имеют субконтрактов, диспетов, всей этой хуйни. То есть хэшлоки там нереализуемы. То есть ты переводишь карты на карту, а потом, дай бог, тебе послут поэкстримент. Эскроу и гаранты. Ну, и тупи обычный. Плюс-минус, но он довольно легко реализуется. Это способ просто движения денег. На самом деле есть еще интересный сапкейс, которым я тебя не заебываю, потому что это вне сферы твоих интересов. Ты мечтатель и видишь идеал, который кайф оплатить. Простой жизненный кейс это если регнуть в том же тайнах... Короче, в каждой стране прикольно было бы иметь хаб-партнер, который является бриджом фиата в XLN. Было бы охуенно, я не отказываюсь. Я не знаю. Я знаю. Тот мой друг, который умер, мы с ним обдумывали, как это может работать. Создается, например, хаб российский, дубайский, тайский. Они партнерами могут быть, то есть они свои комиссии забирают. Их инвестиции, они должны сделать лицензию в той стране, в которой оперируют. И они просто являются порталом в эти быстрые, крутые деньги. Я понимаю, как это сделать в Тае, и есть абстрактное понимание, как это сделать в Дубае Умершего друга был партнер, они даже айдишки делали. Прости, я немножко тупить начинаю с того, что тяжелая тема. Мы сейчас вернемся к идеалам, но почему я горю твоей идеей? Потому что я вижу, как она может стать реально масс адопшеном. Цифровые деньги, которые не фантики. Меня бесит, например, в Тае есть True Wallet, это от 7-11. Долгое время они только-только добавили платеж куарам. Долгое время ты должен закинуть деньги на кошелек. Если хочешь безналом платить, ты должен закинуть бабки на их кошелек. Нахуя мне закидывать бабки на их кошелек? Это ебаный кастодиал, который в любой момент может сказать, ты плохой фаранг и забрать мои деньги. А в Акселане это невозможно по определению, эти деньги не забрать. Суверенность, да. Вот. Но донести эту штуку до людей несложно. И давай, прости, пока чуть-чуть мы ушли от основ... Я считаю, что этим должны заниматься лидеры мнений. Цель общаться с более себе подобными, объяснять каждой бабушке этот разговор на кино. На каждого нет, я просто хочу тебе подсветить некоторую свою ценность, что вот когда кор будет, я скорее всего тот чувак, который сможет это продавать бизнесом. Возможно, придется вложиться в первую версию, чтобы показывать, смотрите, как оно работает для Тая, например. Вот. Ну, просто с готовым примером сто раз легче показывать. Вот. И это просто то, что моё, потому что с программированием я тоже подтупливаю, но стараюсь очень. Вот. И просто... Смотри, и раз мы уфтопили, последняя просто рандомная история, ну, просто потому, что она мне показалась созвучной, и всё, и возвращаемся в кор. Короче, общался с Тайкой, у них интересный движ есть, смотри, что они делают. Ну, она на английском-то переводит, как «мы играем». Многие тайцы тоже отрезаны от банковской системы. Чуваки отрезаны от банковской системы, это интересный кейс. Я тебе скину потом разгон про еврейские комьюнити 1930-х годов, когда евреи в Европе были отрезаны от банковской системы, они что-то типа своей хавалы делали, поддерживали друг друга и разгребали довольно нихуёво, ну, типа финансовые проблемы, обходя банковскую систему. У тайцев, и многих они выебаны, многие банками, кредитами и прочим говном. И вот у них есть чатик 23 человека, они каждый месяц скидывают нам условно по 5000 бат, и вся сумма из общака по кругу идёт одному человеку, то есть раз в месяц кто-то из группы получает, что там, 20 на 5 умножить? Сука, почему такой тупой, соточку, да, соточку, соточку тысяч бат. И это как кредит, но они в это играют без, типа беспроцентный кредит получается. Проблема заключается в том, что это всё на доверии, блядь. Типа умирает админ, который ведёт бухгалтерский учёт и всё, и вся хуйня рушится, и куча людей остаётся, ну, типа, с какой-то непонятной хуйнёй. То есть, типа, игра игрой, но она не имеет фаундейшена надёжного. Но прикольно в том, что, понятно, что мы до этого рядом не добежим, ещё и анбордить надо, но оно так красиво решается XLN'ом, что я просто сидел и у меня челюсть отвисала. Всё красиво решается XLN'ом. Ты понимаешь, что мы сервис затронули буквально 20% во всех хуйнях? Мы же не коснулись сущности, кворумов. Да, понятно, он даже не послушал о том, как это работает. Вот. То, что это просто NASDAQ встроенный. Более того, первая версия, которую мы релизим, она даже не будет иметь каналов. Мы можем зарелизить просто, смотрите, новый фреймворк DAO. И, так сказать, закраться доверие. Потому что, если создать это, блядь, и DAO, и каналы, ну, нихуя не понятно будет. То есть, Milestone — это сущности с чатами, которые управляют своими резервными балансами в юрисдикции. То есть, они ещё пока не имеют каналов к другим сущностям.

И это пушить как альтернативу сайфу и арагону, например, понимаешь? Да, так, теперь что, может быть, не знаю, пятиминутный брейк, и, ну, чтобы типа мозг переключился в другой режим, и возвращаемся, норм? Ну, проблем. Окей, на связи, сейчас выдохну и, короче, победитировать хочу, давай. Тихо-тихо-тихо. Тихо-тихо-тихо. Тихо-тихо-тихо. Тихо-тихо-тихо. Тихо-тихо-тихо. Тихо-тихо-тихо. Тихо-тихо-тихо. Тихо-тихо-тихо-тихо. Тихо-тихо-тихо. Тихо-тихо-тихо-тихо. Тихо-тихо-тихо-тихо. Я не заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я завершаю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Я заканчиваю. Он идёт. Он идёт. Я хочу возмутиться. Очень хочу возмутиться. Вот хотя бы полочку не могу привести. Я вот здесь весь. Прости, пожалуйста. Не справляюсь я совсем. У меня почти сотка. Я не успел заехать за ним. Он в работе был. Работу обожаю. Ты понимаешь, что этого вопроса нет? Если я заработаю, его будет до жопы. Мы его не купим здесь. В смысле, просто в жизни нашей будет до жопы. Ну там, в БКК. Я настроил сейчас случайно столько связей. Подарку, чувак, пиздец. Трафик. Случайно? Ну просто я общался. Короче, мы в итоге... Ты что-то дал став. Я разделил на две части. И те две части, которые... Та вторая часть, которая была наша. Я от неё сначала сделал две маленькие трассы. Они ничего не дали нам. И мы просто всё сбили в одну трассу. И сожрали её по одной трассе. И получается осталась вторая половина, которую ты говоришь. Я не знаю. Оставьте мне... Давай, я сейчас сделаю. Бля, это полная хуйня. Здесь ничего нету. Это ровно половина. И здесь его нету, да, вообще? А в Дананге? В Дананге, я не знаю. В Дананге, скорее всего, есть. В Дананге в 20 раз больше, братан. Ну, что поделать? А что ты делаешь? Почему футбол? Давай я тебе дам карту. Нет, я всё, я отмерил себе то, что мне надо. А, серьёзно? Да, я это ещё пополам поделил. Смотри, мне это нужно, чтобы... У меня есть лопутин, шишка, киски, брат. Зачем тебе отменяться этим? Так, нет, я... Чувак, я ебашил сильно много. Если я сейчас резко остановлюсь, у меня вот такая башка будет несколько дней. Ну, типа, я это брал, типа, в надежде, типа, отменяться. Я тупанул, что надо привезти пацанам приколов. И у меня не было их под рукой. Прости, пожалуйста, ну, типа... Ничего страшного. Уверен, что это будет нормально, если мы вот это сожжём? В смысле уверен? В каком плане? Мне не жалко. Тебе не жалко? Тебе хватит? Мне жалко, что я не привёз больше. Да, но я не хочу, чтобы ты чувствовал гибкость. Это вообще супер. Я тебе писал, мне вообще будет здорово если ты приедешь без ставчика. Ну, типа, буквально. Я на этом месте ничего не привёз, потому что это опасно, пиздец. На души. Пойдём это сожрём. Это тоже, конечно, так. Ну, блин, вообще, хотелось бы, чтобы ты погулял с нами. Да, сейчас пойдём. Через час, блядь, через час мы будем спать. Ну, ладно, через полдва мы ляжем спать. А ты готов с нами завтра на лодку поехать? Да. Ты можешь, пожалуйста, только не тусить утра? Скажи честно, ты себя цыпал? Чего? А вот, кроме этого, нет? Отвечаешь? Братан, ну, реально. Ну, да, отвечаешь, да? Всё, понял, хорошо. Я просто про то, чтобы ты дальше не стырчал, вот это мне самое большое. А, это мне на завтра и на послезавтра, чувак. Вот это вот? Да. Ещё раз, это нужно, чтобы синдром от мены был не таким жёстким. Я понял, но если что, я же говорю, 2 аминомасляные кислота и 7 видов чаёв, которые помогают уже сниматься в твоё распоряжение. Габапентин. Ты же понимаешь, как это работает, что организм компенсирует, и у тебя появляется дефицит огромный. И блокируются те штуки, которые ты раскрывал этой хуйнёй. Он открывает некоторые процессы, эти рецепторы, и оно ебашит их, и такое киперсознание. А потом от мены будет, типа... Вот. Я просто хочу им чуть-чуть дать, чтобы они хоть как-то что-то... Да. Хорошо. Ладно. От души. От души. От души. От души. ТЕЛЕФОННЫЙ ЗВОНОК ТЕЛЕФОННЫЙ ЗВОНОК Эй, йоу. Привет. Чё, кого? Так, погнали. С такси еду покушать. Есть как раз 20 минут с такси. А, ну огонь. Так, сейчас я посмотрю, чё у меня тут интересного надумалось и образовалось, я бы так сказал. Сейчас смотрим. Ну, ты понимаешь, мы переключились на вот разгоны с Севой. Они полезные, но не двигают кор вперед, к сожалению. Так, сейчас смотрю. Это неинтересно. Так, фрейм. Да, можно посидеть сейчас, как раз ты в голове, у тебя очень крепкая ментальная модель. Можно посидеть, сейчас я новый файлик создам. Да, можно посидеть и поугарать по формулировке базовых типов того, что есть. Типа type script, что можно зафиксироваться на том, что из чего состоит. Мы отчасти это делали вчера, как примеры объектов. Типа примеры имплементации этих типов. Теперь можно их просто задефайнить. Так, сейчас посмотрю в каком порядке. Адрес эта строка, эта хуйня. Так, фрейм. Я думаю, что надо идти. Вот еще да, я в целом сегодняшний созвон хотел на самом деле начать вообще по-другому. И пройти от того, вот есть у нас сервер, и с сервером взаимодействует некоторый человек. То есть, input происходит откуда-то.

От человека или от сокета? Да, да, да, то есть вот... По сути, это только от сокет-сервера. Да, да, то есть прилетает некоторый input. Вот, и я хотел с этой точки зрения рассмотреть, что, типа, есть, получается, некоторый слуш... Так, подожди, мы пишемся, сейчас проверю. Да, мы пишемся, все хорошо. Вот, прилетает некоторый input. Как это, ну, типа, в симуляции реализовать правильно? Что именно? Ну, типа, некоторый рандомный input. Почему рандомный? Это можно просто писать сценарий текстом, типа, сервер точка реси... Ресиф, точнее, нет, ресиф, скобка, сервер, запятая, и пошло. Все, понял, императивно, хорошо, согласен, примем это так. Просто в CVI прямо можно, считай, писать. То есть командный интерфейс... Я, знаешь, как хотел, да, чтобы запустился некоторый процесс, а потом к нему кидались запросы из, ну, типа, извне. Ну, да, только в этом извне есть, собственно, сам файл. Или отдельный сценариофайл. Да, да, я вот думаю, что да, пускай крутится какой-то, наверное, тогда примитивный сервер. Сокеты, да, говоришь? Окей. И тогда, ну, короче, супер примитивный клиент сделать, в котором мы уже... Нет, сокетов нет. Для сервера, нет? Именно, типа... Зачем? Все прямо там, на месте, в том же файле, ты и пишешь. У меня есть некоторые дискомфорты из-за того, что я асинхронность не ощущаю. Когда я пишу это в одном файле, оно выглядит слишком... Так нет никакой асинхронности, все асинхронно. А, ну, тогда ладно, окей, окей. Система-то по факту асинхронная, но я понимаю, что ты имеешь в виду. Смотря что считать асинхронным. Все инпуты приходят и по порядку располагаются в инфуле. Потом они присоединяются в инпуты к этим... Я про то, что вот сервер крутится, и ничего не происходит. Инпут приходит извне, как некоторый запрос, как некоторое сообщение. И тогда уже дальше внутри все асинхронно. Ответ, грубо говоря. На самом деле, input, entity, это в то же время сервер-транзакшн. Сервер-транзакшн, да. Потому что любой инпут саб-машины, это транзакция над машиной. То есть, аккаунт-инпут, это транзакция уровня entity. Да, хорошо, что мы начали вводить разные термины, потому что из-за того, что система самоподобна, начинают наслаиваться абстракции термины, и получается полная... В смысле, в голове в какой-то момент может начинаться каша. Мы ее поразгребали вчера. Но я понимаю сервер-транзакшн и input, поэтому мне нравится, что input хотя бы как-то... Так, смотри, мы отдельно объявили машину, и у нее объявили отдельные параметры. А потом мы просто в этой иерархии подставляем слова. Сервер, entity, аккаунт. И каждый из них по одной и той же логике друг к другу взаимодействует. То есть, также зависит с параметром. Хотелось бы, но у них немножко разные поля внутри. Ну, поля, конечно, отличаются. У них задачи разные. Но общий интерфейс абстрактный, он похож. То есть, транзакция, то, что внутри, выполняется внутри фрейма. А input — это то, что прилетает в реплику на уровне консенсуса. Вэй, подожди. Input — это то, что прилетает... Подожди, input прилетает в сервер. Да, в реплику. Нет, в сервер. В сервер routed. В сервер routed, правильно? Подожди, дай подумать. А может назвать это server transaction? Нет, подожди, нет, не надо. Мне нравится message. Но, типа, что мы обмениваемся сообщениями, пакетикой. Можно пакетом это еще назвать. В котором содержатся метаданные и, собственно... У message, смотри, у message нет state-changing, так сказать, свойства. То есть, message — это больше про функциональные у меня... Ну да, но message тебе приносит, типа, внутри себя некоторую функциональную программу, которую нужно исполнить. Давай input, это пока мне... Все, окей. Очень мне кажется, он соответствен. Да, да, да. Хорошо, тогда погнали. Сейчас попробуем определить тип инпута. Сейчас я посмотрю, где он есть. Ага, вот, что-то похожее. Новый файл, типа, интерфейс. Input, с большой буквы, input. Он имеет from, to, правильно? И команду. Что он имеет? Внутри инпута у нас есть некоторый... То есть, input должен сказать, в какую entity нужно прилететь, и к этой entity приходит... Entity-атрас, да. Да, да, да. То есть, он приходит на сервер, сервер роутит к конкретному чуваку. Роутит содержимое инпута. Содержимое инпута... Мне было удобно назвать командой, я могу сейчас переименовать, если тебе оно не нравится. Типа, некоторое указание к entity, что должно сейчас произойти. Команда, команда, команда. Вот, у команды есть тип, и в дате мы храним, собственно, вот эту функциональную часть. То есть, транзакция, она уже вот туда в дату пойдет. Так, хорошо. Там надо будет это сейчас тоже задефайнить, потому что у нас сейчас... Any. Так, теперь смотрим. У нас долетело в entity, и дальше у нас есть... Вот, вот, собственно, к entity мы какие команды можем передать? Можем инициализировать... Вот, мы можем инициализировать entity, мы можем сделать add transaction. А, ну вот это консенсус... Вот команды... Им импортировать. Да, да, да, да. Не обязательно импортировать. Мы одни функции импорта. Я оговорился. И импортирование. Понимаю, абсолютно, я оговорился. Значит, и это получается, вот команд, это консенсус левел коммуникации. Правильно? Да. Да, да. Заебись. И дальше внутри у нас есть add transaction. Сейчас я посмотрю, где у меня есть здоровые, ну, типа, правильные, хорошие примеры. Где у нас есть add transaction? Сейчас. Так, а что, куда едешь? Покушать. Угу. Сейчас-то я... Товарищ позвал на улицу. Хумус или паштета, что-нибудь взять. Вот, есть. Ну, то нахуй. Сейчас. А, вот, add transactions. Хм. А, вот. Вот он предлагает вот так. Import entity. Add transactions. Да, мы в разговоре с тобой упоминали, что может прилететь в одном инпуте много транзакций. Есть такое? В одном инпуте... Надо знать, что имеется в виду прилететь. В момент фрейма он их пакует. То есть, может из разных источников прилететь. От одного прилетит, от второго. Но в момент фрейма в сервере он запаковал это в один большой инпут. В сервере? Не в... Да. Ага, значит, у нас прилетела пачка месседжей, простите, инпутов в сервер. Каждая из них содержит одну транзакцию. Обрабатывая, он их перепакует. На данный момент, да. Может быть, в будущем это и будет, ты бачишь. В общем, это должно сливать. То есть, у него много чего приходит, он все эти 100 миллисекунд сливает это в один серверный фрейм, где он каждый отдельный Entity Input... Да, я про это вспомнил. Да, он сливает и передает в Entity вот этот вот уже... Да, Entity Input. Да, Entity Input у нас это команда. То есть, он формирует команду, которая может содержать в том числе пачку транзакций. Логично. Или он передает пачку команд на Entity, и тогда уже Entity разгребает одновременно прилетевшие к ней пачку команд. В целом не важно, но лучше, чтобы сервер это обработал. То есть, это и транзакции там могут быть, и предложение блока, и подпись. То есть, все в одной куче, в одно действие, чтобы Entity обработала и вернула, типа, все, я окей, сделала, и вернула Outbox. Теперь рассылай назад. Порядок этих действий важен? Он будет прописан строго в функции, да. Он именно первый, например, импорт, чтобы можно было вообще в один блок сразу сделать кучу действий. То есть, сразу импортировать, сразу добавить транзакции. А, ну да, мы их потом отсортируем по простой логике. По важности, да. Да-да-да, для того, чтобы блок сформировался оптимальнее, чтобы они в правильном порядке обрабатывались. Так, соответственно, там что могло произойти? Добавятся транзакции, propose frame, sign frame, и отдельный commit нужен? Ну, это одно и то же. То есть, sign frame, я не знаю, можно отказаться от слова commit, конечно, подписать frame просто. Типа, это терминология тендерминта, commit и pre-commit. Я про то, что у нас, ну вот, типа, пропоузер предложил frame, разослал его. Чуваки проверили и подписали, отправили обратно пропоузеру. Когда у пропоузера собралось достаточно, он должен как-то же объявить, что, чуваки, все, мне хватило подписи, и вот оно, результат, правильно? Да, да, тогда надо сделать набор, надо еще команду в виде give signatures, я не знаю, что-то получше. Вот как раз, commit, наверное. Когда вот все, у тебя набор сигнатур набрался, commit, анкод, так сказать. Да, ну, commit фрейма, по идее. Да, ты коммитишь фрейм, то есть, пропоузер набрал signatures, он коммитит с этим кантом и всем остальным возвращает. Да, и он рассказывает, да, и тогда у них всех, то есть, у них был, как это называется, dry run, до этого они проверили, что все норм, подписались. Когда к ним от пропоузера приходит за финальный commit, они такие прогоняют и переводят состояние реплики Entity в новое состояние. Да, на новый фрейм. Супер. Как консенсус, как пропоузер внутри, это вообще понятная штука, потому что он точно такой же, только еще раз, блядь, насколько оно фрактально, это пиздец. Точнее, рекурсивно. Да, простые абстракции, которые позволят все это сделать. То есть, вот поэтому я не мог раньше XLS сделать, потому что у меня в голове не было понятия более низких уровней, чем канал. У меня до этого только канал был, стоит машина. Да. А вот как в сущности, вот это все, оно было, ну, у меня упирался в баги, у меня начинались синхроны какие-то, в консоли ошибки, я такой, блядь, я не смогу это сделать. Да, да, да. Теперь, когда я знаю, что если я это запакую все в очень охуенной абстракции, я поставлю член на предание, что оно будет идеально работать. Да. Где-нибудь, где-нибудь. Ну, типа, вот как раз функциональный стиль, он охуенен тем, что он обеспечивает вот эту детерминистичность. Да, из простых абстракций, говорит, по уровню, спасибо. Вот, да не за что. Так, этот я понял, мы коммитимся, и там у нас может быть, окей, это транзакция, теперь самое интересное. У нас может прилететь несколько транзакций, чувак запаковывает их в блок, давай транзакции типа пределим. Сейчас я найду. У нас пока только чат. Я помню, я помню. Потому что это уже следующий уровень абстракции, там даже заморачиваться нечего, больше какие-то транзакции пока объявлять. А чат у нас пушен просто, точка чат массив сообщений. Смотри, О3ПРО предложил назвать в типе транзакция, если у нас у команды. Нихуя себе. А? Нихуя себе. А 3ПРО у тебя? Не у меня, у меня друг пошарил, который медач, медициной занимается, вот. Прикольно, прикольно. Да, но я их адвайзорю по чуть-чуть, и ну типа, ну чтобы просто. Блин, а нельзя интересно реально как-то перекачать темы из моего истории чатов про XMM вот туда. Да без проблем. Сейчас, подожди. Не, ну не историю чатов, там надо будет посидеть, пособирать, посжимать, но да, сейчас подожди. Да, вот там все сжато будет, а мой-то знает прям разжато, он прям очень хорошо. Сейчас, дай мне секунду, я найду логин и тебе его. Так, у меня буквально 3 минутки. Ну давай, транзакцию сейчас зафиналим и я тебе логин еще отдам. Так, логин я тебе позже. Гэп, гэп и закрой. Егор, сейчас я тогда отложенное сделаю. Логин по цифру. Schedule message. 20. Ой, какой-то глупой. Давай, привет ребятам. Сейчас я отойду, сейчас отложит и я выговорю. Да без проблем. Так, значит транзакция. Да, сейчас тип транзакции. Вот, и он предлагает, значит, если у нас было в команде, у нас вроде... Сейчас, команда, команда, команда. Я прыгаю по разным этим. Сейчас, прости. Тайп, двоеточие. Нет такого? Тайп, двоеточие. Да, смотри, тогда у команды мы называем это тип. Типа, что сделать? Import entity. Какого типа команда прилетела? Да, да, import entity и так далее. Вот, внутри транзакции, если брать из эфириума, они пишут op, типа, какой тип транзакции. Вот. Не заморачивайся, называй еще как тебе нравится. Да. Прошка предложила kind. Вообще прикольно, что там был тайп, а здесь kind. Как-то... Kind. Time? Да. Время? Нет, kind. А, kind, kind. Да. Не слышно нихуя, братан. Братан, нихуя не слышно. А тут просто гениал и музыку, я тебе сказал. Ага. Научный тайп. Ну, основное мы закрыли. Называй как хочешь. Пон, пон, пон. Главное, типа, виталия модель, типа. Да, и получается, у транзы должен быть нонс еще. Так, хорошо. Да. Есть. Транзы нонс. И сигнатура, естественно. Ну, типа, подпись. Да, нонс сигнатюр. Не заморачивайся с тем, чтобы она что-то проверялась, просто ставь единички, похуй. Главное, что ты сам понимаешь, что оно потом можно проверить. Да. То есть... Да. Все, и давай последний момент. Прилетели транзы, включились они в энтити-блог, чуваки обсудили и запостили, и все чуваки видят сообщение в некотором, ну, собственно, чате. Получается, у нас чат, который шагает блоками. Да. А, таймстампы, таймстампы. Да, то есть... Где указывать таймстампы? Куда мы слием таймстампы? На уровень фрейма. Энтити фрейм таймстамп, его указывает пропозер. Это понятно. А, ну, вот, типа, в транзакции есть таймстампы? Нет, точнее, в месседже, когда он сказал... Ну, нет, пока не надо, пока не надо, нафиг. Ну, просто, а как их сортировать? По очереди в включенности блока. То есть, когда они включаются и исполняются секвенцией по одному, и, соответственно, слушаются по одному. Ну, типа, когда услышал, тогда и поставил, а потом, если что, добавим правила, если они понадобятся. Да, да, да. Все, я тебя понял. Ну, звучит, как будто мы задефайнили чат. Огонь. Огонь, значит... Все, давай, заебись. Завтра постараюсь сделать. Если что, аудио закидывай, текст и так далее. Да, я постараюсь завтра все сделать, да. Представь, что я чат GPT, в который ты что-то хочешь спросить. То есть, вообще, не парься, вопрос тупой, не тупой. Да пизды просто, пиши. Не, я сейчас, меня прямо от общения с тобой, типа, распирает. Потому что я сам понимаю, и любая штука, которую я не понимаю, я получаю ответы и, типа, бегу дальше. Охуенно. Давай, я твой чат GPT. Все, тупых вопросов нет. Давай. До связи. Давай. Люблю целую. Продолжение следует...